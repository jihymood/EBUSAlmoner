package businspection.xpro.com.ebusdriver.utils;

import businspection.xpro.com.ebusdriver.contants.Constants;

/**
 * Created by houyang on 2016/12/6.
 * 用于获得地图缩放等级
 */
public class MapUtils {

    //用于地图缩放等级集合
    static int[] distance = new int[]{10, 20, 50, 100, 200, 500, 1000, 2000, 5000, 10000, 20000, 25000, 50000, 100000, 200000, 500000, 1000000, 2000000, 1000000000};
    static Float[] distanceZoom = new Float[]{20f, 20F, 19F, 18F, 17f, 16F, 15F, 14F, 13F, 12F, 11F, 10F, 9F, 8F, 7F, 6F, 5F, 4F, 3F, 2F};


    /**
     * 获取地图缩放等级
     *
     * @param distances
     * @return
     */
    public static Float getZoom(Float distances, int flag) {
        switch (flag) {
            //homepage中获得缩放等级
            case Constants.HOMEPAGEDISTANCE:
                for (int i = 0; i < distance.length; i++) {
                    if (distances > distance[i] && distances < distance[i + 1]) {
                        return distanceZoom[i];
                    }
                }
                break;

            case Constants.SHIFTDETAILDISTANCE:
                //shiftdetail（班次详情）中获得缩放等级
                for (int i = 0; i < distance.length; i++) {
                    if (distances > distance[i] && distances < distance[i + 1]) {
                        //如果i<5，则强制将i变成5（缩放等级为18F）
                        if (i <= 5) {
                            i = 5;
                        }
                        return distanceZoom[i - 1];
                    }
                }
                break;
        }

        return 10F;
    }
}
